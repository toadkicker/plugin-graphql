(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{62:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"destroy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#destroy","aria-hidden":"true"}},[t._v("#")]),t._v(" destroy")]),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#destroy"}},[t._v("$destroy()")])]),a("li",[a("a",{attrs:{href:"#deleteanddestroy"}},[t._v("$deleteAndDestroy()")])])])]),a("p"),a("h2",{attrs:{id:"destroy-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#destroy-2","aria-hidden":"true"}},[t._v("#")]),t._v(" $destroy()")]),a("p",[t._v("Last thing you can do with a record is to delete it on the server after deleting ("),a("code",[t._v("delete")]),t._v(" action) it on the client via\nVuex-ORM. For this use case we have the "),a("code",[t._v("destroy")]),t._v(" action.")]),a("p",[t._v("Via calling")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" post"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$destroy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// or")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" post"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'destroy'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" post"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("p",[t._v("the following GraphQL query is generated:")]),a("pre",{pre:!0,attrs:{class:"language-graphql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("mutation")]),t._v(" DeletePost"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$id")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),a("span",{attrs:{class:"token operator"}},[t._v("!")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  deletePost"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$id")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id\n    title\n    content\n    \n    user "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      id\n      email\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("Variables:")]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"id"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("42")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("h2",{attrs:{id:"deleteanddestroy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deleteanddestroy","aria-hidden":"true"}},[t._v("#")]),t._v(" $deleteAndDestroy()")]),a("p",[t._v("You can also use the "),a("code",[t._v("$deleteAndDestroy()")]),t._v(" action to delete the record from the store and from the server. It's just a\nshort convenience method for "),a("code",[t._v("$delete()")]),t._v(" and "),a("code",[t._v("$destroy()")]),t._v(".")])])}],!1,null,null,null);s.default=e.exports}}]);